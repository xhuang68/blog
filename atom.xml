<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Xiao</title>
 <link href="http://xiaohuang.rocks/atom.xml" rel="self"/>
 <link href="http://xiaohuang.rocks/"/>
 <updated>2016-03-18T05:48:00+00:00</updated>
 <id>http://xiaohuang.rocks</id>
 <author>
   <name>Xiao Huang</name>
   <email>henryhuang1989@gmail.com</email>
 </author>

 
 <entry>
   <title>静态页面生成器装备持续集成 · 中</title>
   <link href="http://xiaohuang.rocks/2016/03/17/b-travisci/"/>
   <updated>2016-03-17T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2016/03/17/b-travisci</id>
   <content type="html">&lt;h3 id=&quot;section&quot;&gt;&lt;strong&gt;工作流&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;有了对 Jekyll, Travis CI 和 GitHub Pages 的了解，我们对于自动构建 Jekyll 工作流的构思是：&lt;br /&gt;
本地向 Github 上 push 代码后，如果该代码属于目标源（暂时称为 Dev repo），Travis CI 就自动构建 Jekyll 环境编译它，并将产出的静态博客 push 回我们的 Github pages 源（暂时称为 Pages repo）。然后即可在 pages 上查看新发布的博客。 如下图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/20160317/2.jpg&quot; alt=&quot;intro&quot; /&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;strong&gt;分解工作流&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;em&gt;User -&amp;gt; push -&amp;gt; Dev repo&lt;/em&gt;&lt;br /&gt;
事先在 Github 上建立好 repository 即可。有两种方案可供参考：
    &lt;ul&gt;
      &lt;li&gt;建立 username.github.io 源，并开设 dev 分支，将此分支作为 Dev repo. 而 master/gh-pages 分支就是 Pages repo. 这样的好处是只用维护一个 repository.&lt;/li&gt;
      &lt;li&gt;另一种方案，建立两个 repositories, 一个作为 Dev repo, 另一个 username.github.io 源就作 Pages repo. 此方案的好处是可以开设多个项目 pages.
我采用的是前一种方案。其实两种方案实现代码基本相同，使用第二种方案时注意最后配置正确 Pages repo 的 push 路径和权限即可。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;em&gt;Dev repo -&amp;gt; sync -&amp;gt; Travis CI&lt;/em&gt;
在 Travis CI 中开启 Dev repo 的同步开关，然后在 Dev repo 中添加 .travis.yml 文件。这样 Travis CI 就能自动同步之后 push 的代码了。另外记得在 Travis CI 的同步设置中启用 &lt;code class=&quot;highlighter-rouge&quot;&gt;Build only if .travis.yml is present&lt;/code&gt; 项，这样能在 repository 中有多个 branch 时，让 Travis CI 只构建放置了.travis.yml 文件的 branch.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Travis CI -&amp;gt; build and push -&amp;gt; Pages repo&lt;/em&gt;&lt;br /&gt;
这里再分解为 build 和 push 两步：
    &lt;ul&gt;
      &lt;li&gt;&lt;em&gt;build&lt;/em&gt;&lt;br /&gt;
Travis CI 的自动化构建完全依靠唯一的 .travis.yml 脚本文件。需要在此文件中添加构建环境、构建 Jekyll、生成博客及后续 push 到 Pages repo 的全部脚本。有些类似于 Docker 中的 dockerfile。&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;push&lt;/em&gt;&lt;br /&gt;
这一步比较麻烦，涉及到权限设置，加密，下部分会仔细介绍。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;User -&amp;gt; View the pages&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>静态页面生成器装备持续集成 · 上</title>
   <link href="http://xiaohuang.rocks/2016/03/17/a-travisci/"/>
   <updated>2016-03-17T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2016/03/17/a-travisci</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;/img/20160317/1.jpg&quot; alt=&quot;intro&quot; /&gt;&lt;/p&gt;

&lt;p&gt;最近把博客全盘折腾成了 Jekyll 静态页面，部署到了 GitHub Pages 上面，并且利用 Travis CI 做了自动化构建和部署。这篇文章是一个简要的备忘记录。上部分主要写概念和工作流，下部分主要记录 Travis 对 Jekyll 的配置细节。&lt;br /&gt;
&lt;!--more--&gt;&lt;/p&gt;

&lt;h3 id=&quot;jekyll&quot;&gt;&lt;strong&gt;Jekyll&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; 不用多讲，静态页面生成器。 其它类似的还有 &lt;a href=&quot;https://hexo.io/&quot;&gt;hexo&lt;/a&gt;, &lt;a href=&quot;http://octopress.org/&quot;&gt;octopress&lt;/a&gt; 等等。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;&lt;strong&gt;持续集成&lt;/strong&gt;&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;持续集成是一种软件开发实践。在持续集成中，团队成员频繁集成他们的工作成果，每人每天可能集成一次，甚至多次。每次集成会经过自动构建（包括自动测试）的检验，以尽快发现集成错误。许多团队发现这种方法可以显著减少集成引起的问题，并可以加快团队合作软件开发的速度。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;自动构建工具是持续集成的一种出色实践。实际上，代码提交后，由软件自动完成代码的测试、构建，并将过程中状态与构建物产出才是持续集成的意义。Travis CI 就是一个在线的、分布式的持续集成服务，用来构建及测试在 GitHub 托管的代码。这个软件的代码同时也是开源的，提供了多种编程语言的支持，包括 Ruby, JavaScript, Java, Scala, PHP 等。&lt;/p&gt;

&lt;p&gt;&lt;em&gt;原理：Travis CI 会在每一次提交之后生成一个虚拟机来执行事先安排好的 build 任务，你可以调整这个虚拟机的软件环境，甚至能执行 sudo apt-get install 自定义虚拟环境。&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;&lt;strong&gt;静态页面生成器 + 持续集成&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;我们在每次修改添加新文章后，静态页面生成器都需要重新构建、发布，这样的机械化工作交给 Travis CI 再合适不过了。另外，利用 Travis CI 还可以带来很多其他的方便。&lt;/p&gt;

&lt;p&gt;比如，为 &lt;strong&gt;多人协作&lt;/strong&gt; 带来的方便。一般情况下，我们需要本地产生静态档案然后 push 到 GitHub 上。如此这般，对于普通博客或许还算轻松，但是对于偶尔会有的 pull request 就比较麻烦。试想一下，在合并了 pull request 时候，我们必须把最近的 commit 在拉到本地进行手动 build, 之后还需再 push 进行部署。 这样一来，总会有很多麻烦，往往 pull request 合并之后，网页却还未及时更新。&lt;/p&gt;

&lt;p&gt;再比如，为 &lt;strong&gt;测试&lt;/strong&gt; 带来方便。最简单的测试代码是运行 &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; 来确保 Jekyll 对站点的构建不会出错。它并不检查站点的输出结果，而只确保构建正确地进行。当需要测试 Jekyll 的输出结果时，html-proofer 是最佳的工具选择。这个工具会检查输出站点中所有的链接和图片的有效性。可以很方便地使用命令行 &lt;code class=&quot;highlighter-rouge&quot;&gt;htmlproof&lt;/code&gt; 执行该工具，或者写一段 Ruby 代码来执行该 gem。点击 &lt;a href=&quot;https://github.com/gjtorikian/html-proofer&quot;&gt;html-proofer&lt;/a&gt; 查看更多细节。利用持续集成，我们可以将此测试部分放到 Travis CI 去，一旦测试通过，网页便可完成自动部署。&lt;/p&gt;

&lt;h3 id=&quot;github-pages&quot;&gt;&lt;strong&gt;GitHub Pages&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;GitHub Pages 为我们提供了便捷的网页 host 服务，此服务直接来自 GitHub 的代码库。因此我们可以直接编辑代码库然后 push 之后网页就可以及时更新了。&lt;/p&gt;

&lt;p&gt;GitHub Pages 的 Slogan 叫做是：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Websites for you and your projects.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;所以 GitHub Pages 支持两种设置：&lt;strong&gt;User site&lt;/strong&gt; 和 &lt;strong&gt;Project site&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;异同&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;以上两种网页设置都是直接由 GitHub 代码库生成，唯一的区别是 User site 的 publishing branch 是 &lt;strong&gt;master&lt;/strong&gt;，而 Project site 的 publishing branch 是 &lt;strong&gt;gh-pages&lt;/strong&gt;。而且每个 GitHub 代码库只支持唯一一个 User site， 但是可以支持多个 Project site。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;域名&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;GitHub Pages 的域名设置简单明了。User site 拥有一个唯一的域名 &lt;code class=&quot;highlighter-rouge&quot;&gt;username.github.io&lt;/code&gt;，而每个 Project site 则是对应的 &lt;code class=&quot;highlighter-rouge&quot;&gt;username.github.io/projectname&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CNAME&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;GitHub Pages 当然支持自定义域名，只需要在代码库中添加 &lt;em&gt;CNAME&lt;/em&gt; 文件即可。&lt;/p&gt;

&lt;p&gt;举个例子，用户 &lt;a href=&quot;https://github.com/muan/&quot;&gt;muan&lt;/a&gt; 拥有一个名为 &lt;a href=&quot;https://github.com/muan/muan.github.com&quot;&gt;muan.github.com&lt;/a&gt; 的 User Pages 代码库，现在我们就可以通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;muan.github.io&lt;/code&gt; 来访问。接着 muan 为这个代码库添加了一个 &lt;em&gt;CNMAE&lt;/em&gt; 文件，内容为 &lt;code class=&quot;highlighter-rouge&quot;&gt;muan.co&lt;/code&gt;，这意味着我们现在可以通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;muan.co&lt;/code&gt; 这个 url 来访问代码库。&lt;/p&gt;

&lt;p&gt;除此之外，muan 还拥有一个叫做 &lt;a href=&quot;https://github.com/muan/emoji/&quot;&gt;emoji&lt;/a&gt; 的 Project Pages 代码库。现在这个代码库可以通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;muan.github.io/emoji&lt;/code&gt; 或者 &lt;code class=&quot;highlighter-rouge&quot;&gt;muan.co/emoji&lt;/code&gt; 来访问。之后 muan 为这个代码库添加了一个 &lt;em&gt;CNMAE&lt;/em&gt; 文件，内容为 &lt;code class=&quot;highlighter-rouge&quot;&gt;emoji.muan.co&lt;/code&gt;，现在我们则可以通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;emoji.muan.co&lt;/code&gt; 来访问这个网页了。&lt;/p&gt;

&lt;p&gt;更多关于 &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;, &lt;a href=&quot;https://help.github.com/articles/setting-up-your-pages-site-repository/&quot;&gt;CNAME 设置&lt;/a&gt; 和 &lt;a href=&quot;https://help.github.com/articles/quick-start-setting-up-a-custom-domain/&quot;&gt;在 DNS 供应商处设置自定义域名&lt;/a&gt; 的内容。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jekyll 大括号 {% %} 转义</title>
   <link href="http://xiaohuang.rocks/2016/03/16/b-jekyll/"/>
   <updated>2016-03-16T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2016/03/16/b-jekyll-{%%}</id>
   <content type="html">&lt;p&gt;使用 GitHub 做静态网站，写文章的时候避免不了要显示大括号这个符号，但是大括号是 Jekyll 的转义字符，所以我们需要想办法输出这个符号了。&lt;/p&gt;

&lt;h3&gt;&lt;b&gt;  {% raw %} {% endraw %} &lt;/b&gt;&lt;/h3&gt;

&lt;p&gt;这是一个 Jekyll 中用来对大括号进行转义的函数。 对于一般的文本，直接将其放到  {% raw %} {% endraw %} 中即可转义， 比如：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% raw %}

    content

{% endraw %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;section&quot;&gt;&lt;strong&gt;转义代码&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;若是需要对代码进行转义，我的方法是：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% highlight text %}

    {% raw %}

        content

    {% endraw %}

{% endhighlight %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;section-1&quot;&gt;&lt;strong&gt;特殊情况&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;如果需要转义  {% raw %} {% endraw %} 自身，直接使用会出错：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% raw %}
{% raw %}
{% endraw %}
{% endraw %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;解决办法就是将 {% 赋值给一个变量，在需要输出 {% 的时候，输出这个变量的值：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% assign openTag = &#39;{%&#39; %}
{{ openTag }} raw %}
{{ openTag }} endraw %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;section-2&quot;&gt;&lt;strong&gt;其他情况&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;当然，实际操作中还会遇到很多其他情况，比如在写这篇博客的时候，好些代码块的转义都改了很多遍才奏效，实操以灵活为准。如果有需要，可以参考本篇博客的 Markdown 转义表达式。&lt;a href=&quot;https://www.dropbox.com/s/txcjdfni9ec6mig/Jekyll%E8%BD%AC%E4%B9%89%E7%AC%A6.md?dl=0&quot;&gt;下载&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jekyll 代码高亮</title>
   <link href="http://xiaohuang.rocks/2016/03/16/a-jekyll-code-highlight/"/>
   <updated>2016-03-16T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2016/03/16/a-jekyll-code-highlight</id>
   <content type="html">&lt;p&gt;在使用 Jekyll 撰写博客的时候，可以通过 &lt;strong&gt;Pygments&lt;/strong&gt; 和 &lt;strong&gt;Rouge&lt;/strong&gt; 来对博文中的代码进行高亮显示。&lt;br /&gt;
&lt;!--more--&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;pygments&quot;&gt;&lt;strong&gt;Pygments&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Jekyll 原生支持 &lt;a href=&quot;http://pygments.org&quot;&gt;Pygments&lt;/a&gt;. Pygments 支持超过100种语言，并且支持多种输出格式，比如 HTML, RTF等等。&lt;/p&gt;

&lt;h3 id=&quot;configyml&quot;&gt;&lt;strong&gt;修改 _config.yml&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;设置 &lt;code class=&quot;highlighter-rouge&quot;&gt;highlighter: pygments&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;pygments-1&quot;&gt;&lt;strong&gt;本地安装 Pygments&lt;/strong&gt;&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Pygments 是基于 Python 的，所以机器上需要安装 Python。&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://pypi.python.org/pypi/Pygments&quot;&gt;下载&lt;/a&gt;最新的 Pygments, 下载完成后解压。&lt;/li&gt;
  &lt;li&gt;在解压后的 Pygments 目录中，运行命令：&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo python setup.py install&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section&quot;&gt;&lt;strong&gt;选择一种喜欢的代码高亮样式&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Pygments 提供了多种样式，比如 &lt;em&gt;native&lt;/em&gt;, &lt;em&gt;emacs&lt;/em&gt;, &lt;em&gt;vs&lt;/em&gt; 等等，可以在 &lt;a href=&quot;http://pygments.org/demo&quot;&gt;Pygments Demo&lt;/a&gt; 中选择某种语言的例子，体验不同的样式。&lt;br /&gt;
通过下面的命令可以查看当前支持的样式：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygments.styles&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;STYLE_MAP&lt;/span&gt;  
&lt;span class=&quot;n&quot;&gt;STYLE_MAP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;jekyll-&quot;&gt;&lt;strong&gt;选择一种样式，应用在 Jekyll 中&lt;/strong&gt;&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cd &amp;lt;your repository path&amp;gt;/css&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pygmentize -S native -f html &amp;gt; pygments.css&lt;/code&gt; “native”是样式名，“html”是formatter.&lt;/li&gt;
  &lt;li&gt;在 layout 中引用刚刚加的 pygments.css&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section-1&quot;&gt;&lt;strong&gt;在文章中高亮代码&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;现在，可以在博客中高亮代码了：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% highlight java %}
public class HelloWorld {
    public static void main(String args[]) {  
    System.out.println(&quot;Hello World!&quot;);  
    }
}
{% endhighlight %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;效果如下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HelloWorld&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello World!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;  
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;rouge&quot;&gt;&lt;strong&gt;Rouge&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;Jekyll 原生支持 &lt;a href=&quot;http://rouge.jneen.net&quot;&gt;Rouge&lt;/a&gt;. Rouge 支持超过60种语言。&lt;/p&gt;

&lt;h3 id=&quot;jekyll-3-&quot;&gt;&lt;strong&gt;Jekyll 3 默认&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Rouge 是 Jekyll 3 默认的代码高亮工具，对于 Jekyll 2， 需要在配置文件中做如下设置：&lt;code class=&quot;highlighter-rouge&quot;&gt;highlighter: rouge&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;&lt;strong&gt;在文章中高亮代码&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;现在，可以在博客中高亮代码了：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% highlight ruby %}
def foo
  puts &#39;foo&#39;
end
{% endhighlight %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;效果如下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;foo&#39;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;section-3&quot;&gt;&lt;strong&gt;行号&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;highlight 中的第二个参数 linenos 为可选参数，此参数可以为代码添加行号：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{% highlight ruby linenos %}
def foo
  puts &#39;foo&#39;
end
{% endhighlight %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;效果如下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;foo&#39;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>101 Artists to Listen to Before You Die</title>
   <link href="http://xiaohuang.rocks/2015/10/08/a-101-artists/"/>
   <updated>2015-10-08T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2015/10/08/a-101-artists</id>
   <content type="html">&lt;p&gt;清单一类的东西有时候很有吸引力。最近发现了这一本清单。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;101 Artists to Listen to Before You Die&lt;/em&gt;&lt;/strong&gt; &lt;br /&gt;
&lt;img src=&quot;/img/20151008/1.jpg&quot; alt=&quot;101_1&quot; /&gt;
&lt;img src=&quot;/img/20151008/2.jpg&quot; alt=&quot;101_1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这是一本音乐日记，作者是西班牙插画家和音乐爱好者 &lt;em&gt;Ricardo Cavolo&lt;/em&gt;。在这本书里，他平均用两页纸介绍一位在他生命中有过影响的音乐家。Cavolo 在左边用手写了一些趣闻轶事以及他为什么崇拜他们的复杂思绪，在紧邻的下一页则是一幅署上他名字的生动画像。这并非一本参考书，而是一本色彩斑斓且充满激情的即时日记。 &lt;br /&gt;
&lt;!--more--&gt;
这本书基本上按照音乐家活跃的顺序编写，以巴赫开始，以 Chief Keef 结束，涵盖了许多不同的音乐流派。Cavolo 是这么描述他的音乐生命的：「我们没有唱片——我们很穷——因此我们只有盗版的磁带，我们有大量这样的盗版磁带，在一辆汽车录影机上播放：滚石乐队（Rolling Stones）、Sex Pistols、 Muddy Waters、 Easy Rider OST、 Chuck Berry……他们使我接受了音乐的洗礼。书中没有西班牙的音乐家，因为我成长过程中所听的音乐都来自美国或者英国。所以在某些时候盎格鲁撒克逊音乐成了我的音乐。」&lt;/p&gt;

&lt;p&gt;好奇心日报上有一篇专门讲述书和作者故事的文章，这是&lt;a href=&quot;http://www.qdaily.com/articles/15728.html&quot;&gt;链接&lt;/a&gt;。 &lt;br /&gt;
我在 Amazon 上面购买的这本书，这是&lt;a href=&quot;http://www.amazon.com/101-Artists-Listen-Before-You/dp/1910620009/ref=sr_1_1?ie=UTF8&amp;amp;qid=1444340303&amp;amp;sr=8-1&amp;amp;keywords=101+musician&quot;&gt;链接&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>东京物语 · Tokyo Story</title>
   <link href="http://xiaohuang.rocks/2015/10/07/b-tokyo-story/"/>
   <updated>2015-10-07T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2015/10/07/b-tokyo-story</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;/img/20151007/1.jpg&quot; alt=&quot;Tokyo Story&quot; /&gt;&lt;/p&gt;

&lt;p&gt;看了这部1953年的老电影。一开始还不太习惯黑白色调和那个时候略显『僵硬』的演技，但是整部影片绝对不令人失望。
讲述了六十年前的日本，讲述了爱，亲情，战争，生老病死，距离远近和孤独。在这六十年里，城市发生了翻天覆地的变化，
亲人间的家庭关系却依然是原来的样子，甚至因为社会的发展，『家庭』在社会关系里的角色更加紧张，更加令人不知所措。
『东京物语』讲述的就是真实的故事，真实的故事最让人动情。（现在大陆的电影有太多是以煽情博票房，煽情也不错，滥情我不太能接受）&lt;br /&gt;
&lt;!--more--&gt;
关于导演 &lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Yasujirō_Ozu&quot;&gt;小津安二郎&lt;/a&gt;&lt;/strong&gt;： &lt;br /&gt;
生卒年：1903年12月12日——1963年12月12日。小津于1963年12月12日因病去世，那天他正好六十岁生日。他的墓碑上，只有一个汉字——“无”。
小津安二郎共执导了54部影片（只有36部存留世间），其中无声片31部，有声片22部，纪录片1部。在他的54部电影中，
有19部入围日本影响最大的影片评选奖项——《电影旬报》年度十大佳片之列，有六次勇夺当年十大佳片的冠军。
小津的获奖率之高，在日本国内众多的名导演中也属遥遥领先。在日本电影史上小津享有广泛的国际声誉，除了其作品有复杂的深度外，无疑该归功於国际学者的多面向研究。&lt;/p&gt;

&lt;p&gt;转发几段影评，来自豆瓣用户 &lt;em&gt;九个远方&lt;/em&gt;：&lt;/p&gt;

&lt;p class=&quot;message&quot;&gt;
「《東京物語》和小津的任何一部電影一樣，講著一個家庭倫理的故事。然而，正是隱忍，所以傷懷，簡單的故事裏講述著一個個深沉的主題：愛、別離、孤獨、蒼老、死亡。大喜大悲一壺滄海，到眼前卻只是一杯隔夜茶的苦澀。」
&lt;br /&gt;
&lt;br /&gt;
「把真實的生活展現出來，但並不做價值評判，這使小津的電影呈現了開放的風格。《東京物語》裏，每一個衝突都只是瑣碎的平常小事，因為平常所以親切，因為親切所以真實，真實得使我們任何一個人都可以在電影中找到自己的位置，成為其中角色，同喜同悲。這是一面鏡子。」
&lt;br /&gt;
&lt;br /&gt;
「兒女們未必不愛自己的父母，他們相信自己是愛的，但卻在日常生活的淘洗中漸次失蹤了那份感情，愛與尊敬只剩下一個自以為是的幻影。周吉的大女兒志子就認為自己愛著父母親，而父母們也愛著她，在以工作為由匆忙離開母親的喪禮的時候，臨行志子還拿走了家裏的一包布料。」
&lt;br /&gt;
&lt;br /&gt;
「沒有煽情，但自然感動，小津的電影充滿了靜謐，但並不是一池死水，更像大河之水，流得很慢，看不見速度，但深沉無比。」
&lt;/p&gt;

&lt;p&gt;链接: &lt;br /&gt;
&lt;a href=&quot;http://www.imdb.com/title/tt0046438/?ref_=fn_al_tt_1&quot;&gt;IMDb&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;https://movie.douban.com/subject/1291568/&quot;&gt;豆瓣电影&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Recent Playlist</title>
   <link href="http://xiaohuang.rocks/2015/10/07/a-recent-playlists/"/>
   <updated>2015-10-07T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2015/10/07/a-recent-playlists</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;Guitar Recital&lt;/strong&gt;  &lt;br /&gt;
&lt;em&gt;John Williams&lt;/em&gt;&lt;/p&gt;

&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;330&quot; height=&quot;450&quot; src=&quot;http://music.163.com/outchain/player?type=0&amp;amp;id=113569531&amp;amp;auto=0&amp;amp;height=430&quot;&gt;&lt;/iframe&gt;

&lt;!--more--&gt;
&lt;p&gt;&lt;strong&gt;放耳朵去流浪&lt;/strong&gt;  &lt;br /&gt;
&lt;em&gt;范宗沛&lt;/em&gt;&lt;/p&gt;

&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;330&quot; height=&quot;450&quot; src=&quot;http://music.163.com/outchain/player?type=0&amp;amp;id=86485755&amp;amp;auto=0&amp;amp;height=430&quot;&gt;&lt;/iframe&gt;
</content>
 </entry>
 
 <entry>
   <title>在 markdown 中使用网易云音乐外链播放器</title>
   <link href="http://xiaohuang.rocks/2015/10/06/a-netease-player/"/>
   <updated>2015-10-06T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2015/10/06/a-netease-player</id>
   <content type="html">&lt;h3 id=&quot;section&quot;&gt;概述&lt;/h3&gt;
&lt;p&gt;网易云音乐有两种外链播放器插件。&lt;/p&gt;

&lt;p&gt;一种是 iframe，像这样：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;iframe&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;frameborder=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;no&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;border=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;marginwidth=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;marginheight=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;330&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;86&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://music.163.com/outchain/player?type=2&amp;amp;id=29734857&amp;amp;auto=1&amp;amp;height=66&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/span&gt;   &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;另一种是 flash 插件，像这样：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;embed&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://music.163.com/style/swf/widget.swf?sid=29734857&amp;amp;type=2&amp;amp;auto=1&amp;amp;width=320&amp;amp;height=66&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;340&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;86&quot;&lt;/span&gt;  &lt;span class=&quot;na&quot;&gt;allowNetworking=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;all&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/embed&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--more--&gt;
&lt;p&gt;### 使用 &lt;br /&gt;
如今很多平台都不支持 flash 了，所以我使用的是 iframe。&lt;/p&gt;

&lt;p&gt;直接使用 iframe 是会直接显示出代码，而不会显示播放器的，需要把 iframe 的&lt;code class=&quot;highlighter-rouge&quot;&gt;width&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;height&lt;/code&gt;标签的值加上双引号，另外我将自动播放的选项关掉了，就像这样：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;iframe&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;frameborder=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;no&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;border=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;marginwidth=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;marginheight=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;330&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;86&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://music.163.com/outchain/player?type=2&amp;amp;id=29734857&amp;amp;auto=0&amp;amp;height=66&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;效果如下：&lt;/p&gt;

&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;330&quot; height=&quot;86&quot; src=&quot;http://music.163.com/outchain/player?type=2&amp;amp;id=202373&amp;amp;auto=0&amp;amp;height=66&quot;&gt;&lt;/iframe&gt;

&lt;h3 id=&quot;section-1&quot;&gt;推荐&lt;/h3&gt;
&lt;p&gt;一首老歌，最近老是听，好听。歌词可以瞎猜猜什么意思。来自地下丝绒，Lou 之后还写过好多首 XXX says，其中的 Caroline says 基本上是这首的翻唱。&lt;/p&gt;

&lt;p class=&quot;message&quot;&gt;
Stephanie says&lt;br /&gt;
&lt;small&gt;
&lt;i&gt;The Velvet Underground&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;
Stephanie says that she wants to know&lt;br /&gt;
Why she&#39;s given half her life, to people she hates now&lt;br /&gt;
Stephanie says when answering the phone&lt;br /&gt;
What country shall I say is calling from across the world&lt;br /&gt;&lt;br /&gt;

But she&#39;s not afraid to die, the people all call her Alaska&lt;br /&gt;
Between worlds so the people ask her &#39;cause it&#39;s all in her mind&lt;br /&gt;
It&#39;s all in her mind&lt;br /&gt;&lt;br /&gt;

Stephanie says that she wants to know&lt;br /&gt;
Why it is thought she&#39;s the door She can&#39;t be the room&lt;br /&gt;&lt;br /&gt;

Stephanie says but doesn&#39;t hang up the phone&lt;br /&gt;
What sea shell sea is calling from across the world&lt;br /&gt;&lt;br /&gt;

But she&#39;s not afraid to die, the people all call her Alaska&lt;br /&gt;
Between worlds so the people ask her &#39;cause it&#39;s all in her mind&lt;br /&gt;
It&#39;s all in her mind&lt;br /&gt;&lt;br /&gt;

She asks you is it good or bad&lt;br /&gt;
It&#39;s such an icy feeling it&#39;s so cold in Alaska,&lt;br /&gt;
it&#39;s so cold in Alaska, it&#39;s so cold in Alaska
&lt;/small&gt;&lt;/p&gt;

&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;330&quot; height=&quot;86&quot; src=&quot;http://music.163.com/outchain/player?type=2&amp;amp;id=4334115&amp;amp;auto=0&amp;amp;height=66&quot;&gt;&lt;/iframe&gt;
</content>
 </entry>
 
 <entry>
   <title>My favorite podcasts</title>
   <link href="http://xiaohuang.rocks/2015/09/26/a-favourite-podcasts/"/>
   <updated>2015-09-26T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2015/09/26/a-favourite-podcasts</id>
   <content type="html">&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://atp.fm&quot;&gt;Accidental Tech Podcast&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.theincomparable.com/theincomparable/&quot;&gt;Incomparable&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://exponent.fm&quot;&gt;exponent&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://daringfireball.net/thetalkshow/&quot;&gt;The Talk Show&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipn.li/itgonglun/&quot;&gt;IT 公论&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipn.li/xuanmei/&quot;&gt;选·美&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipn.li/taiyilaile/&quot;&gt;太医来了&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipn.li/kernelpanic/&quot;&gt;内核恐慌&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipn.li/bowuzhi/&quot;&gt;博物志&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://itunes.apple.com/us/podcast/pu-su-xin-li-xue/id664461592?mt=2&quot;&gt;朴素心理学&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.tangsuanradio.com&quot;&gt;糖蒜广播&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Beginning</title>
   <link href="http://xiaohuang.rocks/2015/01/01/a-beginning/"/>
   <updated>2015-01-01T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2015/01/01/a-beginning</id>
   <content type="html">&lt;p&gt;This is my first article in this blog.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Hello World!</title>
   <link href="http://xiaohuang.rocks/2014/12/12/a-hello/"/>
   <updated>2014-12-12T00:00:00+00:00</updated>
   <id>http://xiaohuang.rocks/2014/12/12/a-hello</id>
   <content type="html">&lt;p&gt;Hello World!&lt;/p&gt;

&lt;p class=&quot;message&quot;&gt;Hello World!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://xiaohuang.rocks&quot;&gt;Hello World!&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 

</feed>
